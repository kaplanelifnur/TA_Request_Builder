<dashboard version="1.0">
  <label>Request Builder</label>

  <row>
    <panel>
      <html>
        <style type="text/css">
          .req-container {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            color: #f5f7fb;
            background: #050816;
            padding: 24px 28px 32px 28px;
            border-radius: 10px;
          }

          .req-hero {
            display: flex;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
            gap: 16px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.08);
            padding-bottom: 18px;
            margin-bottom: 18px;
          }

          .req-hero-title {
            font-size: 24px;
            font-weight: 600;
            margin: 0;
          }

          .req-hero-subtitle {
            font-size: 13px;
            margin-top: 6px;
            color: #c4ccf2;
          }

          .req-grid {
            display: grid;
            grid-template-columns: minmax(0, 2fr) minmax(0, 1.6fr);
            gap: 18px;
            margin-top: 8px;
          }

          @media (max-width: 1024px) {
            .req-grid {
              grid-template-columns: minmax(0, 1fr);
            }
          }

          .req-card {
            background: rgba(15,23,42,0.95);
            border-radius: 10px;
            padding: 14px 16px 16px 16px;
            border: 1px solid rgba(148,163,184,0.28);
          }

          .req-card h3 {
            margin: 0 0 6px 0;
            font-size: 15px;
            font-weight: 600;
            color: #e5e7eb;
          }

          .req-card p {
            font-size: 13px;
            margin: 4px 0 8px 0;
            color: #cbd5f5;
          }

          pre.req-code {
            background: #020617;
            border-radius: 8px;
            padding: 10px 12px;
            font-size: 12px;
            line-height: 1.4;
            overflow-x: auto;
            border: 1px solid rgba(30,64,175,0.7);
          }

          .req-list {
            margin: 4px 0 0 0;
            padding-left: 18px;
          }

          .req-list li {
            font-size: 12px;
            margin: 2px 0;
          }

          .req-bullets {
            font-size: 12px;
            margin: 6px 0 0 0;
            padding-left: 17px;
            color: #cbd5f5;
          }

          .req-bullets li {
            margin: 2px 0;
          }

          .req-tip {
            font-size: 12px;
            margin-top: 6px;
            color: #9ca3ff;
          }
        </style>

        <div class="req-container">
          <div class="req-hero">
            <div>
              <h1 class="req-hero-title">Request Builder</h1>
              <p class="req-hero-subtitle">
                Run outbound HTTP/HTTPS requests directly from SPL - enrich, integrate, and automate without leaving Splunk.
              </p>
              <div class="req-tagline">
                Search it. Forge it. Send it. Do it.
              </div>
            </div>
          </div>

          <div class="req-grid">
            <div class="req-card">
              <h3>Quick Start</h3>
              <p>Open the Search &amp; Reporting app and run one of the examples below in the search bar.</p>

              <pre class="req-code">
| req url="https://api.github.com"

| req url="https://api.example.com/data" method=GET

| req url="https://api.example.com/login" method=POST \
  body="{\"user\":\"admin\",\"password\":\"Secret123\"}"

| makeresults
| eval payload="{\"id\":1,\"status\":\"active\"}"
| req url="https://api.example.com/update" method=PUT body=payload
              </pre>

              <p class="req-tip">
                Tip: Combine | req with other SPL commands to post-enrich events or trigger external workflows.
              </p>
            </div>

            <div class="req-card">
              <h3>Command Overview</h3>
              <p>
                The | req command lets you call external HTTP/HTTPS APIs directly from your search pipeline.
                It can run with stored credentials and dynamic headers/body.
              </p>

              <h3 style="margin-top:10px;font-size:14px;">Parameters</h3>
              <ul class="req-list">
                <li>url: Target request URL (required).</li>
                <li>method: HTTP method (GET, POST, PUT, DELETE). Default: GET.</li>
                <li>headers: JSON object for custom headers.</li>
                <li>body: Request body (JSON or text), used for POST or PUT.</li>
                <li>verify: true/false for SSL verification.</li>
                <li>identity / realm: Credentials from storage/passwords.</li>
              </ul>

              <h3 style="margin-top:10px;font-size:14px;">Common Use Cases</h3>
              <ul class="req-bullets">
                <li>Enrich events using external APIs</li>
                <li>Trigger workflows from alerts</li>
                <li>Integrate Splunk with SOAR / CI/CD tools</li>
                <li>Pull configuration or inventory data</li>
              </ul>
            </div>
          </div>
        </div>

      </html>
    </panel>
  </row>
</dashboard>
